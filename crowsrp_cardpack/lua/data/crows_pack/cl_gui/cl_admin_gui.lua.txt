net.Receive("CrowsPack_OpenAdminPanel", function()
    local frame = vgui.Create("DFrame")
    frame:SetSize(600, 400)
    frame:Center()
    frame:SetTitle("Crows RP - Admin Pack Config")
    frame:MakePopup()

    local rarityLabel = vgui.Create("DLabel", frame)
    rarityLabel:SetText("Max Mythical Drop %:")
    rarityLabel:SetPos(30, 60)
    rarityLabel:SizeToContents()

    local raritySlider = vgui.Create("DNumSlider", frame)
    raritySlider:SetPos(30, 80)
    raritySlider:SetWide(500)
    raritySlider:SetText("Mythical Chance")
    raritySlider:SetMin(0)
    raritySlider:SetMax(1)
    raritySlider:SetDecimals(3)
    raritySlider:SetValue(0.001)

    local apply = vgui.Create("DButton", frame)
    apply:SetText("Save Config")
    apply:SetSize(140, 40)
    apply:SetPos(30, 300)
    apply.DoClick = function()
        net.Start("CrowsPack_AdminSetChance")
        net.WriteFloat(raritySlider:GetValue())
        net.SendToServer()
    end
end)

hook.Add("OnPlayerChat", "CrowsPack_AdminChatCmd", function(ply, text)
    if text == "!packadmin" and ply:IsAdmin() then
        net.Start("CrowsPack_RequestAdmin")
        net.SendToServer()
    end
end)
